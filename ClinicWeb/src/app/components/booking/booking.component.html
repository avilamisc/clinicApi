<div class="booking-container">
  <app-table [columns]="columns"
             [data]="bookings"
             [totalAmount]="totalDataAmount"
             [mobileWidth]="768"
             [rowAmount]="tableRowAmount"
             (pageChanged)="uploadBookings($event)"
             (rowClicked)="openEditWindow($event.data, $event.index)">
  </app-table>
  <div *ngIf="isPatient" class="create-container">
    <button class="btn btn-dark"
            type="button"
            (click)="crateNewBooking()">Create</button>
  </div>
</div>

<ng-template let-data="data" #documetsColumn>
  <div class="document-list">
    <ul>
      <li *ngFor="let document of data?.Documents"
          (click)="downloadDocument($event, document)">{{document.Name}}</li>
    </ul>
  </div>
</ng-template>

<ng-template let-data="data" #rateColumn>
  <div>
    <app-rating [rating]="getCountOfStart(data?.ClinicianRate, data)"
                [subRating]="data?.BookingRate"
                [itemId]="data?.Id"
                (ratingClick)="updateRate(data?.Id, $event?.rating)"></app-rating>
  </div>
</ng-template>

<app-edit *ngIf="bookingToUpdate"
          [visibility]="isEditWindowOpen"
          [model]="bookingToUpdate"
          [new]="isAddingNewBooking"
          [isPatient]="isPatient"
          (closeEditWindow)="closeEditWindow()"
          (editCompleted)="editBooking($event)">
</app-edit>
